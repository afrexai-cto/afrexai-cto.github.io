<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AfrexAI CRM Dashboard</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#0a0a0a;color:#e0e0e0;min-height:100vh}
:root{--gold:#FFD700;--bg:#0a0a0a;--card:#141414;--border:#222;--text:#e0e0e0;--muted:#888}
/* Login */
#login-screen{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:20px}
.login-box{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:48px 40px;max-width:400px;width:100%;text-align:center}
.login-box h1{color:var(--gold);font-size:1.5rem;margin-bottom:8px}
.login-box p{color:var(--muted);margin-bottom:24px;font-size:.9rem}
.login-box input{width:100%;padding:12px 16px;border-radius:8px;border:1px solid var(--border);background:#1a1a1a;color:#fff;font-size:1rem;margin-bottom:16px;outline:none}
.login-box input:focus{border-color:var(--gold)}
.login-box button{width:100%;padding:12px;border-radius:8px;border:none;background:var(--gold);color:#0a0a0a;font-weight:700;font-size:1rem;cursor:pointer}
.login-box button:hover{background:#e6c200}
.login-error{color:#ff4444;font-size:.85rem;margin-bottom:12px;display:none}
/* Dashboard */
#dashboard{display:none;max-width:100%;margin:0 auto;padding:20px}
header{display:flex;justify-content:space-between;align-items:center;padding:24px 0;flex-wrap:wrap;gap:12px}
header h1{color:var(--gold);font-size:1.6rem;font-weight:800}
header .updated{color:var(--muted);font-size:.85rem}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:32px}
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:24px}
.card .label{color:var(--muted);font-size:.8rem;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}
.card .value{color:var(--gold);font-size:2rem;font-weight:800}
.card .sub{color:var(--muted);font-size:.75rem;margin-top:4px}
section{margin-bottom:36px}
section h2{color:var(--gold);font-size:1.2rem;margin-bottom:16px;padding-bottom:8px;border-bottom:1px solid var(--border)}
/* Pipeline */
.pipeline-row{display:flex;align-items:center;gap:12px;margin-bottom:10px;flex-wrap:wrap}
.pipeline-stage{width:120px;font-weight:600;text-transform:capitalize;font-size:.9rem;flex-shrink:0}
.pipeline-bar-wrap{flex:1;min-width:100px;background:#1a1a1a;border-radius:6px;height:28px;position:relative;overflow:hidden}
.pipeline-bar{background:linear-gradient(90deg,var(--gold),#b8960f);height:100%;border-radius:6px;display:flex;align-items:center;padding:0 10px;font-size:.75rem;font-weight:700;color:#0a0a0a;min-width:fit-content;white-space:nowrap}
.pipeline-value{width:120px;text-align:right;font-size:.85rem;color:var(--muted);flex-shrink:0}
/* Table */
.table-wrap{overflow-x:visible}
table{width:100%;border-collapse:collapse;font-size:.75rem;table-layout:auto}
table td,table th{white-space:nowrap;padding:8px 6px}
th{text-align:left;padding:10px 12px;background:#1a1a1a;color:var(--gold);font-weight:600;white-space:nowrap;position:sticky;top:0}
td{padding:10px 12px;border-bottom:1px solid var(--border);white-space:nowrap}
tr:hover td{background:#1a1a1a}
/* Charts */
.chart{margin-bottom:24px}
.chart-title{font-weight:600;margin-bottom:12px;font-size:.95rem}
.bar-row{display:flex;align-items:center;gap:10px;margin-bottom:6px}
.bar-label{width:160px;font-size:.8rem;text-align:right;flex-shrink:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.bar-track{flex:1;background:#1a1a1a;border-radius:4px;height:22px;overflow:hidden}
.bar-fill{height:100%;background:linear-gradient(90deg,var(--gold),#b8960f);border-radius:4px;display:flex;align-items:center;padding:0 8px}
.bar-count{font-size:.75rem;font-weight:700;color:#0a0a0a;white-space:nowrap}
.bar-ext{width:40px;font-size:.8rem;color:var(--muted);text-align:right;flex-shrink:0}
footer{text-align:center;padding:32px 0;color:var(--muted);font-size:.8rem;border-top:1px solid var(--border)}
/* View Toggle */
.view-toggle{display:flex;gap:8px;margin-bottom:24px}
.view-toggle button{padding:10px 20px;border-radius:8px;border:1px solid var(--border);background:var(--card);color:var(--muted);font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s}
.view-toggle button.active{background:var(--gold);color:#0a0a0a;border-color:var(--gold)}
.view-toggle button:hover:not(.active){border-color:var(--gold);color:var(--gold)}
/* Kanban Board */
#kanban-view{display:none}
.kanban-board{display:flex;gap:16px;overflow-x:auto;padding-bottom:20px;min-height:60vh;-webkit-overflow-scrolling:touch}
.kanban-board::-webkit-scrollbar{height:8px}
.kanban-board::-webkit-scrollbar-track{background:#1a1a1a;border-radius:4px}
.kanban-board::-webkit-scrollbar-thumb{background:var(--gold);border-radius:4px}
.kanban-col{min-width:280px;max-width:300px;flex-shrink:0;background:#111;border:1px solid var(--border);border-radius:12px;display:flex;flex-direction:column}
.kanban-col-header{padding:16px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;background:#111;border-radius:12px 12px 0 0;z-index:1}
.kanban-col-header h3{font-size:.9rem;font-weight:700;display:flex;align-items:center;gap:8px}
.kanban-col-header .count-badge{background:var(--gold);color:#0a0a0a;font-size:.7rem;font-weight:800;padding:2px 8px;border-radius:10px;min-width:22px;text-align:center}
.kanban-col-body{padding:8px;flex:1;overflow-y:auto;max-height:70vh}
.kanban-card{background:var(--card);border:1px solid var(--border);border-radius:8px;padding:14px;margin-bottom:8px;transition:border-color .2s,transform .15s}
.kanban-card{cursor:grab;user-select:none;-webkit-user-select:none;touch-action:none}
.kanban-card:hover{border-color:var(--gold);transform:translateY(-1px)}
.kanban-card:active{cursor:grabbing}
.kanban-card.dragging{opacity:.4;transform:scale(.95);border-color:var(--gold)}
.kanban-col.drag-over{box-shadow:0 0 16px 2px rgba(255,215,0,.45);border-color:var(--gold);transition:box-shadow .2s,border-color .2s}
.kanban-card .drag-handle{display:inline-block;color:var(--muted);font-size:.7rem;margin-right:4px;vertical-align:middle;opacity:.4;transition:opacity .2s}
.kanban-card:hover .drag-handle{opacity:1}
.kanban-card .kc-company{font-weight:700;font-size:.85rem;color:#fff;margin-bottom:6px}
.kanban-card .kc-contact{font-size:.78rem;color:var(--muted);margin-bottom:4px}
.kanban-card .kc-email{font-size:.72rem;color:var(--gold);margin-bottom:6px;word-break:break-all}
.kanban-card .kc-meta{display:flex;justify-content:space-between;align-items:center;gap:6px;flex-wrap:wrap}
.kanban-card .kc-industry{font-size:.68rem;color:var(--muted);background:#1a1a1a;padding:2px 6px;border-radius:4px;max-width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.kanban-card .kc-icp{font-size:.65rem;font-weight:700;padding:2px 6px;border-radius:4px}
.kanban-card .kc-source{font-size:.62rem;color:#999;background:#1a1a1a;border:1px solid #2a2a2a;padding:1px 5px;border-radius:3px;margin-top:6px;display:inline-block}
.stage-badge{font-size:.65rem;font-weight:700;padding:3px 8px;border-radius:4px;text-transform:uppercase;letter-spacing:.3px}
.stage-lead{background:#333;color:#ccc}
.stage-contacted{background:#1a3a5c;color:#5ba3e6}
.stage-discovery{background:#2a1a4a;color:#a77bda}
.stage-proposal{background:#3a2a0a;color:#e6a817}
.stage-negotiation{background:#3a1a0a;color:#e67817}
.stage-won{background:#0a3a1a;color:#17e678}
.stage-lost{background:#3a0a0a;color:#e63717}
/* Search/Filter Bar */
.kanban-filters{background:#111;border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:16px;display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.kanban-filters input[type="text"]{flex:1;min-width:200px;padding:10px 14px;border-radius:8px;border:1px solid var(--border);background:#1a1a1a;color:#fff;font-size:.9rem;outline:none}
.kanban-filters input[type="text"]:focus{border-color:var(--gold)}
.kanban-filters select{padding:8px 12px;border-radius:8px;border:1px solid var(--border);background:#1a1a1a;color:#ccc;font-size:.8rem;outline:none;cursor:pointer}
.kanban-filters select:focus{border-color:var(--gold)}
.kanban-filters .filter-label{font-size:.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:.5px}
.kanban-filters .filter-group{display:flex;flex-direction:column;gap:3px}
.filter-stats{color:var(--muted);font-size:.78rem;margin-bottom:8px}
/* Revenue indicator */
.kc-revenue{font-size:.68rem;color:#17e678;background:#0a2a1a;padding:2px 6px;border-radius:4px;font-weight:700;display:inline-block;margin-top:4px}
.kc-revenue.mid{color:#e6a817;background:#2a1a0a}
.kc-revenue.small{color:#5ba3e6;background:#0a1a2a}
/* Column accent tops */
.kanban-col[data-stage="lead"] .kanban-col-header{border-top:3px solid #666}
.kanban-col[data-stage="contacted"] .kanban-col-header{border-top:3px solid #5ba3e6}
.kanban-col[data-stage="discovery"] .kanban-col-header{border-top:3px solid #a77bda}
.kanban-col[data-stage="proposal"] .kanban-col-header{border-top:3px solid #e6a817}
.kanban-col[data-stage="negotiation"] .kanban-col-header{border-top:3px solid #e67817}
.kanban-col[data-stage="won"] .kanban-col-header{border-top:3px solid #17e678}
.kanban-col[data-stage="lost"] .kanban-col-header{border-top:3px solid #e63717}
/* Flow arrow between columns */
.kanban-flow-arrow{display:flex;align-items:center;justify-content:center;color:var(--gold);font-size:1.2rem;flex-shrink:0;opacity:.4}
@media(max-width:600px){
  header h1{font-size:1.2rem}
  .card .value{font-size:1.5rem}
  .pipeline-stage{width:80px;font-size:.8rem}
  .pipeline-value{width:80px;font-size:.75rem}
  .bar-label{width:100px;font-size:.7rem}
  td,th{padding:8px 6px;font-size:.75rem}
  .kanban-col{min-width:260px}
}
</style>
    <meta property="og:title" content="AfrexAI CRM Dashboard">
    <meta property="og:description" content="AfrexAI CRM Dashboard - AI-powered workforce solutions by AfrexAI. Automate operations, cut costs, and grow revenue.">
    <meta property="og:url" content="https://afrexai-cto.github.io/crm-dashboard/">
    <meta property="og:image" content="https://afrexai-cto.github.io/assets/og-image.svg">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AfrexAI CRM Dashboard">
    <meta name="twitter:description" content="AfrexAI CRM Dashboard - AI-powered workforce solutions by AfrexAI. Automate operations, cut costs, and grow revenue.">
</head>
<body>

<div id="login-screen">
  <div class="login-box">
    <h1>üîí AfrexAI CRM</h1>
    <p>Enter password to access the dashboard</p>
    <div class="login-error" id="login-error">Incorrect password</div>
    <input type="password" id="pwd-input" placeholder="Password" autocomplete="off">
    <button onclick="tryLogin()">Access Dashboard</button>
  </div>
</div>

<div id="dashboard">
  <header>
    <h1>üìä AfrexAI CRM Dashboard</h1>
    <span class="updated">Last updated: Feb 21, 2026 at 19:50 GMT</span>
  </header>

  <div class="view-toggle">
    <button id="btn-dashboard" class="active" onclick="switchView('dashboard')">üìä Dashboard View</button>
    <button id="btn-pipeline" onclick="switchView('pipeline')">üîÄ Pipeline Board View</button>
  </div>

  <div id="dashboard-view">
    <div class="cards" id="cards"></div>

    <section>
      <h2>üìà Deal Pipeline</h2>
      <div id="pipeline"></div>
    </section>

    <section>
      <h2>üìä Companies by Industry</h2>
      <div id="chart-industry" class="chart"></div>
    </section>

    <section>
      <h2>üèôÔ∏è Companies by Metro</h2>
      <div id="chart-metro" class="chart"></div>
    </section>

    <section>
      <h2>üè¢ All Companies</h2>
      <div class="table-wrap">
        <table id="companies-table">
          <thead><tr><th>#</th><th>Company</th><th>Email</th><th>Website</th><th>City</th><th>State</th><th>Industry</th><th>Employees</th><th>Source</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </div>

  <div id="kanban-view">
    <section>
      <h2>üîÄ Sales Pipeline Board</h2>
      <p style="color:var(--muted);font-size:.8rem;margin-bottom:12px">All prospects from CRM database and CSV pipeline. Drag cards between stages.</p>
      <div class="kanban-filters">
        <input type="text" id="kanban-search" placeholder="üîç Search company, contact, email, or industry‚Ä¶" oninput="applyKanbanFilters()">
        <div class="filter-group"><span class="filter-label">ICP Score</span><select id="filter-icp" onchange="applyKanbanFilters()"><option value="">All</option><option value="9">9+ (Hot)</option><option value="8">8+</option><option value="0">Any / Unknown</option></select></div>
        <div class="filter-group"><span class="filter-label">Industry</span><select id="filter-industry" onchange="applyKanbanFilters()"><option value="">All Industries</option></select></div>
        <div class="filter-group"><span class="filter-label">Revenue</span><select id="filter-revenue" onchange="applyKanbanFilters()"><option value="">All Sizes</option><option value="100">$100M+</option><option value="50">$50M+</option><option value="10">$10M+</option><option value="5">$5M+</option></select></div>
        <div class="filter-group"><span class="filter-label">Source</span><select id="filter-source" onchange="applyKanbanFilters()"><option value="">All Sources</option><option value="crm-db">üè¢ Top Companies</option><option value="crm-csv">üìã CRM CSV</option></select></div>
      </div>
      <div class="filter-stats" id="filter-stats"></div>
      <div class="kanban-board" id="kanban-board"></div>
    </section>
  </div>

  <footer>
    Updated every 12 hours. Next update at ~Feb 22, 2026 07:36 GMT.<br>
    &copy; 2026 AfrexAI &middot; Internal Use Only
  </footer>
</div>

<script>
const HASH = '1c05f9a1d0bdde3fdd0b8896808cb1bfcd3821166830d5de6866f621ed8b7f66';
const DATA = {
  "totalCompanies": 0,
  "totalContacts": 200,
  "totalActivities": 98,
  "activities7d": 0,
  "deals": [
    {"stage": "prospecting", "count": 11, "total_value": 1320000}
  ],
  "topCompanies": [
    {"name":"Hazlewoods","city":null,"state":null,"industry":"Accounting - UK Firm","employees":550,"email":null,"website":null,"source":null},
    {"name":"Hazlewoods","city":null,"state":null,"industry":"Accounting - UK Firm","employees":550,"email":"info@hazlewoods.co.uk","website":null,"source":null},
    {"name":"DECA Dental Group","city":null,"state":null,"industry":"Healthcare - Dental Group","employees":500,"email":"info@decadental.com","website":null,"source":null},
    {"name":"Armanino","city":"San Ramon","state":"CA","industry":"Accounting","employees":500,"email":"matt.armanino@armanino.com","website":"armanino.com","source":null},
    {"name":"Leavitt Group","city":"Cedar City","state":"UT","industry":"Insurance Agency","employees":450,"email":"dane.leavitt@leavitt.com","website":"leavitt.com","source":null},
    {"name":"Addepar","city":"Mountain View","state":"CA","industry":"Fintech","employees":450,"email":"eric.poirier@addepar.com","website":"addepar.com","source":null},
    {"name":"Moss Adams","city":"Seattle","state":"WA","industry":"Accounting","employees":450,"email":"eric.miles@mossadams.com","website":"mossadams.com","source":null},
    {"name":"Marcum","city":"New York","state":"NY","industry":"Accounting","employees":450,"email":"jeffrey.weiner@marcumllp.com","website":"marcumllp.com","source":null},
    {"name":"AssuredPartners","city":"Lake Mary","state":"FL","industry":"Insurance Agency","employees":450,"email":"tom.riley@assuredpartners.com","website":"assuredpartners.com","source":null},
    {"name":"Q2 Holdings","city":"Austin","state":"TX","industry":"Fintech","employees":450,"email":"jonathan.price@q2.com","website":"q2.com","source":null},
    {"name":"Plaid","city":"San Francisco","state":"CA","industry":"Fintech","employees":450,"email":"zach.perret@plaid.com","website":"plaid.com","source":null},
    {"name":"Mariner Wealth Advisors","city":"Overland Park","state":"KS","industry":"Wealth Management","employees":450,"email":"marty.bicknell@marinerwealthadvisors.com","website":"marinerwealthadvisors.com","source":null},
    {"name":"Pacific Premier Bancorp","city":"Irvine","state":"CA","industry":"Regional Bank","employees":400,"email":"steven.gardner@ppbi.com","website":"ppbi.com","source":null},
    {"name":"EP Wealth Advisors","city":"Torrance","state":"CA","industry":"Wealth Management","employees":400,"email":"patrick.goshtigian@epwealth.com","website":"epwealth.com","source":null},
    {"name":"Eide Bailly","city":"Fargo","state":"ND","industry":"Accounting","employees":400,"email":"jeremy.hauk@eidebailly.com","website":"eidebailly.com","source":null},
    {"name":"Renasant Bank","city":"Tupelo","state":"MS","industry":"Regional Bank","employees":400,"email":"mitch.waycaster@renasantbank.com","website":"renasantbank.com","source":null},
    {"name":"Orion Advisor Solutions","city":"Omaha","state":"NE","industry":"Fintech","employees":400,"email":"eric.clarke@orion.com","website":"orion.com","source":null},
    {"name":"World Insurance Associates","city":"Tinton Falls","state":"NJ","industry":"Insurance Agency","employees":400,"email":"giancarlo.campise@worldinsurance.com","website":"worldinsurance.com","source":null},
    {"name":"Sikich","city":"Naperville","state":"IL","industry":"Accounting","employees":400,"email":"chris.geier@sikich.com","website":"sikich.com","source":null},
    {"name":"The Hilb Group","city":"Richmond","state":"VA","industry":"Insurance Agency","employees":400,"email":"ricky.spiro@hilbgroup.com","website":"hilbgroup.com","source":null},
    {"name":"Holmes Murphy","city":"Waukee","state":"IA","industry":"Insurance Agency","employees":400,"email":"dan.keough@holmesmurphy.com","website":"holmesmurphy.com","source":null},
    {"name":"nCino","city":"Wilmington","state":"NC","industry":"Fintech","employees":400,"email":"pierre.naude@ncino.com","website":"ncino.com","source":null},
    {"name":"Withum","city":"Princeton","state":"NJ","industry":"Accounting","employees":400,"email":"pat.walsh@withum.com","website":"withum.com","source":null},
    {"name":"Triumph Financial","city":"Dallas","state":"TX","industry":"Regional Bank","employees":400,"email":"aaron.graft@tfin.com","website":"tfin.com","source":null},
    {"name":"Carr Riggs & Ingram","city":"Enterprise","state":"AL","industry":"Accounting","employees":400,"email":"bill.carr@cricpa.com","website":"cricpa.com","source":null},
    {"name":"Katz Sapper & Miller","city":"Indianapolis","state":"IN","industry":"Accounting","employees":400,"email":"tim.cook@ksmcpa.com","website":"ksmcpa.com","source":null},
    {"name":"Whitley Penn","city":"Fort Worth","state":"TX","industry":"Accounting","employees":400,"email":"larry.autrey@whitleypenn.com","website":"whitleypenn.com","source":null},
    {"name":"Cerity Partners","city":"New York","state":"NY","industry":"Wealth Management","employees":400,"email":"kurt.miscinski@ceritypartners.com","website":"ceritypartners.com","source":null},
    {"name":"Plante Moran","city":"Southfield","state":"MI","industry":"Accounting","employees":400,"email":"jim.proppe@plantemoran.com","website":"plantemoran.com","source":null},
    {"name":"Risk Strategies","city":"Boston","state":"MA","industry":"Insurance Agency","employees":400,"email":"john.mina@risk-strategies.com","website":"risk-strategies.com","source":null},
    {"name":"BRP Group (Baldwin Insurance)","city":"Tampa","state":"FL","industry":"Insurance Agency","employees":400,"email":"trevor.baldwin@baldwinriskpartners.com","website":"baldwinriskpartners.com","source":null},
    {"name":"Patriot Growth Insurance Services","city":"Fort Lauderdale","state":"FL","industry":"Insurance Agency","employees":400,"email":"matt.simon@patriotgis.com","website":"patriotgis.com","source":null},
    {"name":"Enterprise Bancorp","city":"Lowell","state":"MA","industry":"Regional Bank","employees":400,"email":"jack.clancy@enterprisebanking.com","website":"enterprisebanking.com","source":null},
    {"name":"Expensify","city":"Portland","state":"OR","industry":"Fintech","employees":400,"email":"david.barrett@expensify.com","website":"expensify.com","source":null},
    {"name":"IMA Financial Group","city":"Denver","state":"CO","industry":"Insurance Agency","employees":400,"email":"rob.cohen@imacorp.com","website":"imacorp.com","source":null},
    {"name":"Glacier Bancorp","city":"Kalispell","state":"MT","industry":"Regional Bank","employees":400,"email":"randall.chesler@glacierbancorp.com","website":"glacierbancorp.com","source":null},
    {"name":"Blend Labs","city":"San Francisco","state":"CA","industry":"Fintech","employees":400,"email":"nima.ghamsari@blend.com","website":"blend.com","source":null},
    {"name":"Berkshire Hills Bancorp","city":"Boston","state":"MA","industry":"Regional Bank","employees":400,"email":"nitin.mhatre@berkshirebank.com","website":"berkshirebank.com","source":null},
    {"name":"Origin Bancorp","city":"Ruston","state":"LA","industry":"Regional Bank","employees":400,"email":"drake.mills@origin.bank","website":"origin.bank","source":null},
    {"name":"Citrin Cooperman","city":"New York","state":"NY","industry":"Accounting","employees":400,"email":"alan.goldenberg@citrincooperman.com","website":"citrincooperman.com","source":null},
    {"name":"Carson Group","city":"Omaha","state":"NE","industry":"Wealth Management","employees":400,"email":"ron.carson@carsongroup.com","website":"carsongroup.com","source":null},
    {"name":"Independent Bank Group","city":"McKinney","state":"TX","industry":"Regional Bank","employees":350,"email":"david.brooks@ibtx.com","website":"ibtx.com","source":null},
    {"name":"Wipfli","city":"Milwaukee","state":"WI","industry":"Accounting","employees":350,"email":"kevin.latz@wipfli.com","website":"wipfli.com","source":null},
    {"name":"Schneider Downs","city":"Pittsburgh","state":"PA","industry":"Accounting","employees":350,"email":"karl.kunkel@schneiderdowns.com","website":"schneiderdowns.com","source":null},
    {"name":"CrossFirst Bankshares","city":"Leawood","state":"KS","industry":"Regional Bank","employees":350,"email":"mike.maddox@crossfirstbank.com","website":"crossfirstbank.com","source":null},
    {"name":"Southside Bancshares","city":"Tyler","state":"TX","industry":"Regional Bank","employees":350,"email":"lee.gibson@southside.com","website":"southside.com","source":null},
    {"name":"Allworth Financial","city":"Sacramento","state":"CA","industry":"Wealth Management","employees":350,"email":"scott.hanson@allworthfinancial.com","website":"allworthfinancial.com","source":null},
    {"name":"Woodruff Sawyer","city":"San Francisco","state":"CA","industry":"Insurance Agency","employees":350,"email":"andy.barrengos@woodruffsawyer.com","website":"woodruffsawyer.com","source":null},
    {"name":"Anchin","city":"New York","state":"NY","industry":"Accounting","employees":350,"email":"russell.shinsky@anchin.com","website":"anchin.com","source":null},
    {"name":"The Bonadio Group","city":"Rochester","state":"NY","industry":"Accounting","employees":350,"email":"bruce.zicari@bonadio.com","website":"bonadio.com","source":null}
  ],
  "byIndustry": [
    {"industry":"Real Estate","cnt":100},{"industry":"Fintech","cnt":21},{"industry":"Wealth Management","cnt":20},
    {"industry":"Insurance Agency","cnt":20},{"industry":"Regional Bank","cnt":20},{"industry":"Accounting","cnt":20},
    {"industry":"Healthcare - Dental Group","cnt":10},{"industry":"Accounting - CPA Firm","cnt":4},
    {"industry":"B2B Marketing Agency","cnt":4},{"industry":"Recruitment - Staffing","cnt":4}
  ],
  "byMetro": [
    {"city":"Miami","state":"FL","cnt":16},{"city":"Houston","state":"TX","cnt":13},
    {"city":"Dallas","state":"TX","cnt":13},{"city":"Austin","state":"TX","cnt":13},
    {"city":"Tampa","state":"FL","cnt":11},{"city":"Jacksonville","state":"FL","cnt":10},
    {"city":"Orlando","state":"FL","cnt":9},{"city":"New York","state":"NY","cnt":8},
    {"city":"San Antonio","state":"TX","cnt":8},{"city":"Fort Worth","state":"TX","cnt":5}
  ]
};

// CRM prospects from crm.csv ‚Äî top 50 US-based ICP 8+ prospects
const CRM_PROSPECTS = [
  {company:"Turnstile",contact:"Jordan Zamir",role:"CEO & Co-founder",email:"",industry:"B2B SaaS (Quote-to-Cash)",icp:9,stage:"prospect"},
  {company:"Synthpop",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Healthcare AI)",icp:9,stage:"prospect"},
  {company:"Resolve AI",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (DevOps)",icp:9,stage:"prospect"},
  {company:"Complyance",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (GRC)",icp:9,stage:"prospect"},
  {company:"Winn.AI",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Sales)",icp:9,stage:"prospect"},
  {company:"Bretton AI",contact:"Will Lawrence",role:"CEO",email:"",industry:"B2B SaaS (Fintech)",icp:9,stage:"prospect"},
  {company:"Didero",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Procurement)",icp:9,stage:"prospect"},
  {company:"Accrual",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Fintech/Accounting)",icp:9,stage:"prospect"},
  {company:"Newo",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (AI)",icp:9,stage:"prospect"},
  {company:"Anterior",contact:"Abdel Mahmoud",role:"CEO",email:"",industry:"Healthcare AI",icp:9,stage:"prospect"},
  {company:"Uptiq",contact:"Snehal Fulzele",role:"Founder & CEO",email:"",industry:"B2B SaaS (Fintech AI)",icp:9,stage:"prospect"},
  {company:"Uptool",contact:"Benny Buller",role:"CEO",email:"",industry:"AI Manufacturing",icp:9,stage:"prospect"},
  {company:"Jump AI",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Fintech/Voice)",icp:9,stage:"prospect"},
  {company:"Monaco",contact:"Sam Blond",role:"CEO",email:"",industry:"SaaS",icp:9,stage:"prospect"},
  {company:"Gather AI",contact:"Sankalp Arora",role:"CEO",email:"",industry:"Manufacturing",icp:9,stage:"prospect"},
  {company:"Fundamental",contact:"Unknown",role:"CEO",email:"",industry:"Data/AI",icp:9,stage:"prospect"},
  {company:"Day AI",contact:"Unknown",role:"Unknown",email:"",industry:"CRM (B2B SaaS)",icp:9,stage:"prospect"},
  {company:"Helia Care",contact:"Unknown",role:"Unknown",email:"",industry:"Healthcare Supply Chain SaaS",icp:9,stage:"prospect"},
  {company:"Veritus",contact:"Unknown",role:"Unknown",email:"",industry:"Fintech/AI Lending",icp:9,stage:"prospect"},
  {company:"Daffodil Health",contact:"Unknown",role:"Unknown",email:"",industry:"Healthcare AI",icp:9,stage:"prospect"},
  {company:"Rainfall Health",contact:"Eddie Qureshi",role:"CEO & Founder",email:"",industry:"Healthcare AI",icp:9,stage:"prospect"},
  {company:"Skilled Real Estate",contact:"Sean Ford",role:"CEO",email:"sean@skilledrealestate.com",industry:"Real Estate",icp:9,stage:"lead"},
  {company:"HappyRobot AI",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (AI Workforce)",icp:8,stage:"prospect"},
  {company:"Daytona",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Dev Infrastructure)",icp:8,stage:"prospect"},
  {company:"Lema AI",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Supply Chain)",icp:8,stage:"prospect"},
  {company:"Algorized",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Industrial)",icp:8,stage:"prospect"},
  {company:"Loop AI",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Logistics)",icp:8,stage:"prospect"},
  {company:"Simile",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (AI)",icp:8,stage:"prospect"},
  {company:"WitnessAI",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Security)",icp:8,stage:"prospect"},
  {company:"Sapiom",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Fintech)",icp:8,stage:"prospect"},
  {company:"Brandlight",contact:"Dvir Dvash",role:"CTO & Co-founder",email:"",industry:"AI Marketing",icp:8,stage:"prospect"},
  {company:"Flock AI",contact:"Manvitha Mallela",role:"Founder",email:"",industry:"AI Ecommerce",icp:8,stage:"prospect"},
  {company:"Cadastral",contact:"Unknown",role:"Unknown",email:"",industry:"Real Estate Tech",icp:8,stage:"prospect"},
  {company:"OPAQUE",contact:"Unknown",role:"Unknown",email:"",industry:"Confidential AI",icp:8,stage:"prospect"},
  {company:"Bedrock Robotics",contact:"Unknown",role:"Unknown",email:"",industry:"Construction/Robotics",icp:8,stage:"prospect"},
  {company:"Take2",contact:"Unknown",role:"CEO",email:"",industry:"Healthcare/Recruiting",icp:8,stage:"new"},
  {company:"Vega",contact:"Unknown",role:"CEO",email:"",industry:"Security Analytics",icp:8,stage:"prospect"},
  {company:"Ando",contact:"Unknown",role:"Unknown",email:"",industry:"AI HR/Workforce",icp:8,stage:"prospect"},
  {company:"Pelgo",contact:"Chieh Huang",role:"Co-founder",email:"",industry:"B2B SaaS (HR/AI)",icp:8,stage:"prospect"},
  {company:"ORION Security",contact:"Unknown",role:"Unknown",email:"",industry:"B2B SaaS (Cybersecurity)",icp:8,stage:"prospect"},
  {company:"Hubbl Technologies",contact:"Unknown",role:"CEO",email:"",industry:"SaaS",icp:8,stage:"prospect"},
  {company:"Meridian",contact:"Unknown",role:"CEO",email:"",industry:"Fintech",icp:8,stage:"prospect"},
  {company:"Biller Genie",contact:"Unknown",role:"CEO",email:"",industry:"Fintech",icp:8,stage:"prospect"},
  {company:"Backslash Security",contact:"Unknown",role:"CEO",email:"",industry:"SaaS",icp:8,stage:"prospect"}
];

// Pipeline stage definitions
const STAGES = [
  {id:'lead',label:'Lead',icon:'üéØ'},
  {id:'contacted',label:'Contacted',icon:'üìß'},
  {id:'discovery',label:'Discovery Call',icon:'üîç'},
  {id:'proposal',label:'Proposal',icon:'üìã'},
  {id:'negotiation',label:'Negotiation',icon:'ü§ù'},
  {id:'won',label:'Won',icon:'üèÜ'},
  {id:'lost',label:'Lost',icon:'‚ùå'}
];

// localStorage persistence for card moves
function getSavedMoves(){try{return JSON.parse(localStorage.getItem('crm_kanban_moves')||'{}');}catch(e){return {};}}
function saveMoves(moves){localStorage.setItem('crm_kanban_moves',JSON.stringify(moves));}

// Estimate revenue from employee count (rough: $150K revenue per employee for services firms)
function estimateRevenue(employees){
  if(!employees) return null;
  return employees * 150000;
}
function fmtRevenue(rev){
  if(!rev) return null;
  if(rev >= 1e9) return '$'+(rev/1e9).toFixed(1)+'B';
  if(rev >= 1e6) return '$'+(rev/1e6).toFixed(0)+'M';
  if(rev >= 1e3) return '$'+(rev/1e3).toFixed(0)+'K';
  return '$'+rev;
}
function revenueClass(rev){
  if(!rev) return '';
  if(rev >= 50e6) return '';
  if(rev >= 10e6) return 'mid';
  return 'small';
}

let allKanbanProspects = [];

function buildKanbanData(){
  const prospects = [];
  const seen = new Set();
  // Add ALL topCompanies with inferred stages
  DATA.topCompanies.forEach((c,i)=>{
    // Deduplicate by name+email
    const key = c.name+'||'+(c.email||'');
    if(seen.has(key)) return;
    seen.add(key);
    // Default all to Lead ‚Äî having an email doesn't mean we contacted them
    let stage = 'lead';
    const contactName = c.email ? c.email.split('@')[0].split('.').map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(' ') : 'Unknown';
    const rev = estimateRevenue(c.employees);
    prospects.push({
      company: c.name,
      contact: contactName,
      email: c.email || '',
      industry: c.industry || 'Unknown',
      employees: c.employees,
      revenue: rev,
      stage: stage,
      icp: null,
      source: 'crm-db'
    });
  });
  // Add ALL CRM CSV prospects
  CRM_PROSPECTS.forEach(p=>{
    // Default all to Lead ‚Äî no auto-promotion without real outreach evidence
    let stage = 'lead';
    prospects.push({
      company: p.company,
      contact: p.contact || 'Unknown',
      email: p.email || '',
      industry: p.industry,
      employees: null,
      revenue: null,
      stage: stage,
      icp: p.icp,
      source: 'crm-csv'
    });
  });
  // Apply saved moves from localStorage
  const moves = getSavedMoves();
  prospects.forEach(p=>{
    const key = p.company+'||'+p.contact;
    if(moves[key]) p.stage = moves[key];
  });
  allKanbanProspects = prospects;
  return prospects;
}

function applyKanbanFilters(){
  const search = (document.getElementById('kanban-search').value||'').toLowerCase();
  const icpFilter = document.getElementById('filter-icp').value;
  const indFilter = document.getElementById('filter-industry').value;
  const revFilter = document.getElementById('filter-revenue').value;
  const srcFilter = document.getElementById('filter-source').value;

  const cards = document.querySelectorAll('.kanban-card');
  let shown=0, total=cards.length;
  cards.forEach(card=>{
    const company = (card.dataset.company||'').toLowerCase();
    const contact = (card.dataset.contact||'').toLowerCase();
    const email = (card.dataset.email||'').toLowerCase();
    const industry = (card.dataset.industry||'').toLowerCase();
    const icp = parseInt(card.dataset.icp)||0;
    const rev = parseFloat(card.dataset.revenue)||0;
    const src = card.dataset.source||'';

    let visible = true;
    if(search && !company.includes(search) && !contact.includes(search) && !email.includes(search) && !industry.includes(search)) visible=false;
    if(icpFilter){
      const minIcp = parseInt(icpFilter);
      if(minIcp > 0 && icp < minIcp) visible=false;
    }
    if(indFilter && !industry.includes(indFilter.toLowerCase())) visible=false;
    if(revFilter && rev < parseFloat(revFilter)*1e6) visible=false;
    if(srcFilter && src !== srcFilter) visible=false;

    card.style.display = visible ? '' : 'none';
    if(visible) shown++;
  });

  // Update column counts
  document.querySelectorAll('.kanban-col').forEach(col=>{
    const cnt = col.querySelectorAll('.kanban-card:not([style*="display: none"])').length;
    const b = col.querySelector('.count-badge');
    if(b) b.textContent = cnt;
  });

  document.getElementById('filter-stats').textContent = `Showing ${shown} of ${total} prospects`;
}

function populateFilterDropdowns(){
  const industries = new Set();
  allKanbanProspects.forEach(p=>{ if(p.industry) industries.add(p.industry); });
  const sel = document.getElementById('filter-industry');
  const sorted = [...industries].sort();
  sorted.forEach(ind=>{
    const opt = document.createElement('option');
    opt.value = ind;
    opt.textContent = ind;
    sel.appendChild(opt);
  });
}

function renderKanban(){
  const prospects = buildKanbanData();
  const board = document.getElementById('kanban-board');
  const grouped = {};
  STAGES.forEach(s => grouped[s.id] = []);
  prospects.forEach(p => {
    if(grouped[p.stage]) grouped[p.stage].push(p);
    else grouped['lead'].push(p);
  });
  let html = '';
  STAGES.forEach((s,i)=>{
    if(i > 0) html += '<div class="kanban-flow-arrow">‚Üí</div>';
    const cards = grouped[s.id];
    html += `<div class="kanban-col" data-stage="${s.id}">
      <div class="kanban-col-header">
        <h3>${s.icon} ${s.label}</h3>
        <span class="count-badge">${cards.length}</span>
      </div>
      <div class="kanban-col-body">`;
    cards.forEach(c=>{
      const icpHtml = c.icp ? `<span class="kc-icp" style="background:${c.icp>=9?'#0a3a1a':'#1a3a5c'};color:${c.icp>=9?'#17e678':'#5ba3e6'}">ICP ${c.icp}</span>` : '';
      const srcLabel = c.source==='crm-csv'?'üìã CRM CSV':c.source==='crm-db'?'üè¢ Top Companies':'‚ùì Unknown';
      const revStr = fmtRevenue(c.revenue);
      const revHtml = revStr ? `<span class="kc-revenue ${revenueClass(c.revenue)}">üí∞ ${revStr} est.</span>` : '';
      html += `<div class="kanban-card" draggable="true" data-company="${c.company.replace(/"/g,'&quot;')}" data-contact="${(c.contact||'').replace(/"/g,'&quot;')}" data-email="${(c.email||'').replace(/"/g,'&quot;')}" data-industry="${(c.industry||'').replace(/"/g,'&quot;')}" data-icp="${c.icp||0}" data-revenue="${c.revenue||0}" data-source="${c.source||''}">
        <div class="kc-company"><span class="drag-handle">‚†ø</span> ${c.company}</div>
        <div class="kc-contact">üë§ ${c.contact}${c.employees ? ' ¬∑ '+c.employees+' emp' : ''}</div>
        ${c.email ? '<div class="kc-email">‚úâ '+c.email+'</div>' : ''}
        <div class="kc-meta">
          <span class="kc-industry">${c.industry}</span>
          ${icpHtml}
          <span class="stage-badge stage-${s.id}">${s.label}</span>
        </div>
        ${revHtml}
        <span class="kc-source">${srcLabel}</span>
      </div>`;
    });
    html += '</div></div>';
  });
  board.innerHTML = html;
  initDragAndDrop();
}

// Drag and Drop
let draggedCard = null;
function initDragAndDrop(){
  const cards = document.querySelectorAll('.kanban-card');
  const cols = document.querySelectorAll('.kanban-col');

  cards.forEach(card=>{
    card.addEventListener('dragstart',e=>{
      draggedCard = card;
      card.classList.add('dragging');
      e.dataTransfer.effectAllowed='move';
      e.dataTransfer.setData('text/plain','');
    });
    card.addEventListener('dragend',()=>{
      if(draggedCard) draggedCard.classList.remove('dragging');
      draggedCard = null;
      cols.forEach(c=>c.classList.remove('drag-over'));
    });

    // Touch events for mobile
    let touchClone=null, touchStartX=0, touchStartY=0, touchCol=null;
    card.addEventListener('touchstart',e=>{
      draggedCard = card;
      const t=e.touches[0];
      touchStartX=t.clientX; touchStartY=t.clientY;
      card.classList.add('dragging');
    },{passive:true});
    card.addEventListener('touchmove',e=>{
      if(!draggedCard) return;
      e.preventDefault();
      const t=e.touches[0];
      const el=document.elementFromPoint(t.clientX,t.clientY);
      cols.forEach(c=>c.classList.remove('drag-over'));
      const col=el?el.closest('.kanban-col'):null;
      if(col) {col.classList.add('drag-over'); touchCol=col;}
      else touchCol=null;
    },{passive:false});
    card.addEventListener('touchend',()=>{
      if(draggedCard && touchCol){
        dropCard(draggedCard, touchCol);
      }
      if(draggedCard) draggedCard.classList.remove('dragging');
      draggedCard=null; touchCol=null;
      cols.forEach(c=>c.classList.remove('drag-over'));
    });
  });

  cols.forEach(col=>{
    col.addEventListener('dragover',e=>{e.preventDefault();e.dataTransfer.dropEffect='move';col.classList.add('drag-over');});
    col.addEventListener('dragleave',()=>col.classList.remove('drag-over'));
    col.addEventListener('drop',e=>{
      e.preventDefault();
      col.classList.remove('drag-over');
      if(draggedCard) dropCard(draggedCard, col);
    });
  });
}

function dropCard(card, col){
  const newStage = col.dataset.stage;
  const body = col.querySelector('.kanban-col-body');
  const oldCol = card.closest('.kanban-col');
  if(oldCol === col) return;

  // Move DOM
  body.appendChild(card);

  // Update stage badge
  const stageInfo = STAGES.find(s=>s.id===newStage);
  const badge = card.querySelector('.stage-badge');
  if(badge && stageInfo){
    badge.className = 'stage-badge stage-'+newStage;
    badge.textContent = stageInfo.label;
  }

  // Update column counts
  [oldCol, col].forEach(c=>{
    const cnt = c.querySelectorAll('.kanban-card').length;
    const b = c.querySelector('.count-badge');
    if(b) b.textContent = cnt;
  });

  // Persist to localStorage
  const company = card.dataset.company;
  const contact = card.dataset.contact;
  const moves = getSavedMoves();
  moves[company+'||'+contact] = newStage;
  saveMoves(moves);
}

function switchView(view){
  document.getElementById('dashboard-view').style.display = view==='dashboard' ? 'block' : 'none';
  document.getElementById('kanban-view').style.display = view==='pipeline' ? 'block' : 'none';
  document.getElementById('btn-dashboard').className = view==='dashboard' ? 'active' : '';
  document.getElementById('btn-pipeline').className = view==='pipeline' ? 'active' : '';
  if(view==='pipeline'){ renderKanban(); populateFilterDropdowns(); document.getElementById('filter-stats').textContent='Showing '+allKanbanProspects.length+' of '+allKanbanProspects.length+' prospects'; }
}

async function sha256(str){
  const buf = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(str));
  return Array.from(new Uint8Array(buf)).map(b=>b.toString(16).padStart(2,'0')).join('');
}

async function tryLogin(){
  const pwd = document.getElementById('pwd-input').value;
  const hash = await sha256(pwd);
  if(hash === HASH){
    sessionStorage.setItem('crm_auth','1');
    showDashboard();
  } else {
    document.getElementById('login-error').style.display='block';
  }
}

document.getElementById('pwd-input').addEventListener('keydown',e=>{if(e.key==='Enter')tryLogin()});

function showDashboard(){
  document.getElementById('login-screen').style.display='none';
  document.getElementById('dashboard').style.display='block';
  render();
}

function fmt(n){return n!=null?n.toLocaleString():'‚Äî'}
function money(n){return '$'+Number(n).toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0})}

function render(){
  const cards=[
    {label:'Total Companies',value:DATA.totalCompanies,icon:'üè¢'},
    {label:'Total Contacts',value:DATA.totalContacts,icon:'üë§'},
    {label:'Total Activities',value:DATA.totalActivities,icon:'üìã'},
    {label:'Activity (7d)',value:DATA.activities7d,icon:'‚ö°'},
    {label:'CRM Prospects (ICP 8+)',value:CRM_PROSPECTS.length,icon:'üéØ'}
  ];
  document.getElementById('cards').innerHTML=cards.map(c=>`
    <div class="card"><div class="label">${c.icon} ${c.label}</div><div class="value">${fmt(c.value)}</div></div>
  `).join('');

  const pipe=document.getElementById('pipeline');
  if(DATA.deals.length===0){
    pipe.innerHTML='<p style="color:var(--muted);font-size:.9rem">No deals in pipeline yet.</p>';
  } else {
    const maxCount=Math.max(...DATA.deals.map(d=>d.count));
    pipe.innerHTML=DATA.deals.map(d=>`
      <div class="pipeline-row">
        <span class="pipeline-stage">${d.stage}</span>
        <div class="pipeline-bar-wrap"><div class="pipeline-bar" style="width:${Math.max(d.count/maxCount*100,8)}%">${d.count} deals</div></div>
        <span class="pipeline-value">${money(d.total_value)}</span>
      </div>
    `).join('');
  }

  renderBarChart('chart-industry', DATA.byIndustry, 'industry', 'cnt');
  renderBarChart('chart-metro', DATA.byMetro, r=>(r.city||'Unknown')+(r.state&&r.state!=='‚Äî'?', '+r.state:''), 'cnt');

  // Merge ALL companies: topCompanies (DB) + CRM_PROSPECTS (CSV)
  const allCompanies = [
    ...DATA.topCompanies.map(c=>({name:c.name,email:c.email,website:c.website,city:c.city,state:c.state,industry:c.industry,employees:c.employees,source:c.source,origin:'crm-db'})),
    ...CRM_PROSPECTS.map(c=>({name:c.company,email:c.email,website:null,city:null,state:null,industry:c.industry,employees:null,source:null,origin:'crm-csv'}))
  ];
  // Update total companies card dynamically
  DATA.totalCompanies = allCompanies.length;
  document.querySelector('#cards').children[0].querySelector('.value').textContent = fmt(allCompanies.length);

  const tbody=document.querySelector('#companies-table tbody');
  tbody.innerHTML=allCompanies.map((c,i)=>`
    <tr><td>${i+1}</td><td>${c.name}</td><td>${c.email||'‚Äî'}</td><td>${c.website?'<a href="https://'+c.website+'" target="_blank" style="color:var(--gold)">'+c.website+'</a>':'‚Äî'}</td><td>${c.city||'‚Äî'}</td><td>${c.state||'‚Äî'}</td><td>${c.industry||'‚Äî'}</td><td>${fmt(c.employees)}</td><td>${c.source?'<a href="'+c.source+'" target="_blank" style="color:var(--gold)">Source</a>':'‚Äî'}</td></tr>
  `).join('');
}

function renderBarChart(id, data, labelFn, countKey){
  const el=document.getElementById(id);
  const max=Math.max(...data.map(d=>d[countKey]));
  const getLabel=typeof labelFn==='function'?labelFn:d=>d[labelFn]||'Unknown';
  el.innerHTML=data.map(d=>{
    const pct=Math.max(d[countKey]/max*100,4);
    return `<div class="bar-row">
      <span class="bar-label">${getLabel(d)}</span>
      <div class="bar-track"><div class="bar-fill" style="width:${pct}%"><span class="bar-count">${d[countKey]}</span></div></div>
    </div>`;
  }).join('');
}

if(sessionStorage.getItem('crm_auth')==='1') showDashboard();
</script>
</body>
</html>
