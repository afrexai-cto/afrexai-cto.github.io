# AfrexAI Attribution Architecture

## Overview

This document defines how AfrexAI tracks, attributes, and measures the incremental revenue generated by AI-powered lead qualification and nurturing for real estate brokerages.

---

## 1. Attribution Flow

```
Lead Source → AI Qualification → CRM Tag → Agent Assignment → Showing → Offer → Close → Commission
     │              │                │             │             │         │        │          │
  Captured      Scored &         Tagged in      Round-robin   Tracked   Tracked  Tracked   Attributed
  via form/     classified       CRM with       or manual     via CRM   via CRM  via CRM   back to
  API/import    by AI engine     source +       assignment    activity  activity  closing   lead source
                                 AI status                    log       log      report    & AI tag
```

### Stage Details

| Stage | Data Captured | System |
|-------|--------------|--------|
| **Lead Source** | UTM params, source channel, form ID, phone/email | Landing page / ad platform |
| **AI Qualification** | Lead score (1-100), intent signals, response sentiment, property match | AfrexAI engine |
| **CRM Tag** | `afrexai_qualified`, `afrexai_nurtured`, timeline of AI touches | CRM via API |
| **Agent Assignment** | Assigned agent, assignment timestamp, method (auto/manual) | CRM |
| **Showing** | Showing date, property, feedback | CRM activity |
| **Offer** | Offer date, amount, property | CRM / MLS |
| **Close** | Close date, sale price, commission amount | CRM / brokerage accounting |
| **Commission** | GCI amount, agent split, brokerage split | Brokerage accounting |

---

## 2. Baseline Measurement (Pre-AI Period)

### Method
- **Duration:** 30 calendar days before AfrexAI activation
- **Metrics captured:**
  - Total leads received
  - Lead-to-contact rate
  - Lead-to-showing rate
  - Lead-to-close rate
  - Average days to close
  - Average commission per closed deal
  - Total GCI for period

### Requirements
- Brokerage provides CRM export or API access for the baseline period
- No changes to ad spend, lead sources, or team size during baseline
- If changes occur, baseline is adjusted proportionally with mutual agreement

### Baseline Formula
```
Baseline Monthly Revenue = (Baseline Leads × Baseline Conversion Rate) × Avg Commission
```

---

## 3. CRM Tagging Taxonomy

All leads processed by AfrexAI receive structured tags:

| Tag | Definition | Applied When |
|-----|-----------|-------------|
| `ai_qualified` | Lead scored and deemed viable by AI | AI scores lead ≥ 40/100 |
| `ai_nurtured` | Lead received AI-driven follow-up sequences | AI sends ≥ 1 follow-up message |
| `ai_converted` | Lead progressed to showing/offer after AI engagement | Lead reaches showing stage with AI touch history |
| `organic` | Lead that closed without any AI interaction | No AI touchpoints in activity log |
| `ai_assisted` | Lead had some AI contact but primary conversion was agent-driven | AI touchpoints exist but agent initiated key conversion event |

### Custom Fields Added to CRM
- `afrexai_lead_score` (integer 1-100)
- `afrexai_first_touch` (datetime)
- `afrexai_last_touch` (datetime)
- `afrexai_touch_count` (integer)
- `afrexai_status` (enum: new, qualifying, nurturing, converted, disqualified)
- `afrexai_attribution` (enum: ai_converted, ai_assisted, organic)

---

## 4. Uplift Calculation Methodology

### Monthly Uplift Formula
```
Incremental Revenue = Actual Monthly Revenue − Baseline Monthly Revenue (adjusted)
```

### Adjustments
- **Seasonality:** Baseline adjusted using prior-year same-month data if available
- **Lead volume changes:** If brokerage increases/decreases ad spend, baseline conversion rate (not absolute revenue) is used
- **Team size changes:** Baseline normalized per-agent if team size changes >10%

### Attribution Rules
1. Leads tagged `ai_converted` → 100% attributed to AI
2. Leads tagged `ai_assisted` → 50% attributed to AI
3. Leads tagged `organic` → 0% attributed to AI
4. Disputed leads → reviewed jointly in monthly reconciliation

### Anti-Gaming Provisions
- Tags are set by automated system, not manually editable by either party
- Audit trail maintained for all tag changes
- Monthly reconciliation meeting to review edge cases

---

## 5. Monthly Reporting Template

### AfrexAI Monthly Performance Report

**Brokerage:** [Name]
**Period:** [Month/Year]
**Report Date:** [Date]

#### Lead Summary
| Metric | Baseline | This Month | Change |
|--------|----------|------------|--------|
| Total leads received | | | |
| AI-qualified leads | N/A | | |
| Lead-to-showing rate | | | |
| Lead-to-close rate | | | |
| Avg days to close | | | |

#### Revenue Summary
| Metric | Amount |
|--------|--------|
| Baseline monthly revenue | $ |
| Actual monthly revenue | $ |
| Gross incremental revenue | $ |
| AI-attributed revenue (after attribution rules) | $ |
| AfrexAI revenue share (X%) | $ |
| Net gain for brokerage | $ |

#### AI Activity
| Metric | Count |
|--------|-------|
| Leads scored | |
| Follow-up sequences initiated | |
| AI conversations held | |
| Leads converted to showing | |
| Leads converted to close | |

#### Notes & Adjustments
- [Any baseline adjustments applied]
- [Edge cases resolved]

---

## 6. CRM Integration Points

### Follow Up Boss
- **API:** REST API v1 — `api.followupboss.com`
- **Integration method:** API key authentication
- **Capabilities:** Create/update leads, add tags, add notes, read activities, webhooks for stage changes
- **Custom fields:** Supported via API
- **Webhook events:** Lead created, stage changed, note added, deal closed

### KvCORE (Inside Real Estate)
- **API:** REST API — developer portal access required
- **Integration method:** OAuth 2.0
- **Capabilities:** Lead management, smart campaigns, behavioral tracking, custom fields
- **Custom fields:** Supported
- **Webhook events:** Lead activity, campaign engagement, deal pipeline changes

### Sierra Interactive
- **API:** REST API with key auth
- **Integration method:** API key
- **Capabilities:** Lead CRUD, activity tracking, saved searches, campaign management
- **Custom fields:** Supported via settings
- **Webhook events:** New lead, property inquiry, site visit

### BoomTown
- **API:** REST API (partner access required)
- **Integration method:** OAuth 2.0 / API key
- **Capabilities:** Lead management, pipeline tracking, agent assignment, reporting
- **Custom fields:** Limited — use tags + notes for attribution
- **Webhook events:** Lead created, status changed, transaction updated

### Fallback: Zapier / Make.com
For CRMs without direct API access:
- Zapier triggers on new lead / stage change
- AfrexAI processes via webhook
- Results pushed back via Zapier action
- Latency: ~1-5 minutes vs real-time for direct API

---

## 7. Data Requirements from Brokerage

### Before Launch (One-Time)
- [ ] CRM API credentials or Zapier connection
- [ ] 90-day historical lead data export (CSV or API access)
- [ ] Current lead sources and approximate volume per source
- [ ] Agent roster with current deal counts
- [ ] Average commission structure (splits, caps)
- [ ] Permission to add custom fields and tags to CRM

### Ongoing (Monthly)
- [ ] Closed transaction report with commission amounts
- [ ] Any changes to team size, ad spend, or lead sources
- [ ] Confirmation of monthly reconciliation figures

### Data Privacy
- AfrexAI accesses only lead contact info and activity data necessary for qualification
- No financial data beyond commission amounts for attribution
- All data encrypted in transit (TLS 1.3) and at rest (AES-256)
- Brokerage retains full ownership of all lead data
- Data deleted within 30 days of contract termination

---

*Document version: 1.0 — February 2026*
*AfrexAI Inc.*
